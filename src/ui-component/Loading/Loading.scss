@use '../../styles/tokens/index';

.loading {
    --loading-size: 48px;
    --loading-color: var(--color-primary-main);

    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    color: var(--loading-color);

    &--small {
        --loading-size: 32px;
    }

    &--medium {
        --loading-size: 48px;
    }

    &--large {
        --loading-size: 64px;
    }

    &--fullscreen {
        position: fixed;
        inset: 0;
        z-index: 1300;
        background: var(--color-background-overlay);
    }

    &__container {
        position: relative;
        width: var(--loading-size);
        height: var(--loading-size);
        display: grid;
        place-items: center;
    }

    &__star {
        position: relative;
        z-index: 2;
        width: calc(var(--loading-size) * 0.55);
        height: calc(var(--loading-size) * 0.55);
        filter: drop-shadow(0 2px 8px color-mix(in srgb, currentColor, transparent 70%));
    }

    &__star-svg {
        width: 100%;
        height: 100%;
        display: block;
    }

    &__waves {
        position: absolute;
        inset: -70%;
        z-index: 1;
        pointer-events: none;
        opacity: 0.85;
    }

    &__wave-svg {
        width: 100%;
        height: 100%;
        display: block;
    }

    &__wave-path {
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-dasharray: 10 16;
        animation: loading-wave 1.4s ease-in-out infinite;

        &--left {
            transform-origin: 100px 100px;
        }

        &--right {
            transform-origin: 100px 100px;
        }
    }

    // Stagger (0~6)
    @for $i from 0 through 6 {
        .loading__wave-path--#{$i} {
            animation-delay: #{$i * 0.08}s;
        }
    }
}

@keyframes loading-wave {
    0% {
        stroke-dashoffset: 0;
        opacity: 0.25;
    }

    50% {
        stroke-dashoffset: 40;
        opacity: 1;
    }

    100% {
        stroke-dashoffset: 80;
        opacity: 0.25;
    }
}




